/* 
 Controlling a servo position using a potentiometer (variable resistor) 
 by Michal Rinott <http://people.interaction-ivrea.it/m.rinott> 

 modified on 8 Nov 2013
 by Scott Fitzgerald
 http://www.arduino.cc/en/Tutorial/Knob
*/

#include <Servo.h>

Servo myservo;  // create servo object to control a servo

int micPin = 0;  // analog pin used to connect the potentiometer
int val;    // variable to read the value from the analog pin
int pos = 0;

void setup()
{
  Serial.begin(9600);
  myservo.attach(9);
  
}

void loop() 
 {
  
  val = analogRead(micPin);            // reads the value of the potentiometer (value between 0 and 1023) 
  val = map(val, 0, 1023, 0, 450);     // scale it to use it with the servo (value between 0 and 180) 
  //myservo.write(val);                  // sets the servo position according to the scaled value 
  delay(10);

Serial.println(val); 
  
  if ((val > 20) && (val <= 30))  {
    for(pos = 0; pos <= 60; pos +=5)
    {
      myservo.write(pos);
      delay(20);
    }
  }
     //digitalWrite(micPin, HIGH); 
  
 
    // waits for the servo to get there 
  if (( val >= 30 ) && (val < 100)) {
  //digitalWrite(micPin, HIGH); 
   for(pos = 0; pos <=60 ; pos +=5)
   {
    myservo.write(pos);
    delay(10);
   }
  } 

  if ( val > 100) {
  //digitalWrite(micPin, HIGH); 
   for(pos = 0; pos <=60 ; pos +=5)
   {
    myservo.write(pos);
    delay(3);
    }
  }
}
